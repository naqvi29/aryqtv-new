{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"G:/VOD/digital video/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"G:/VOD/digital video/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"G:\\\\VOD\\\\digital video\\\\components\\\\Plyr.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef } from \"react\";\nimport Hls from \"hls.js\";\nimport Plyr from \"plyr-react\";\n\nvar MyComponentVOD = function MyComponentVOD(props) {\n  _s();\n\n  var ref = useRef(null);\n  useEffect(function () {\n    var loadVideo = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var video, hls;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                video = document.getElementById(\"plyr\");\n                hls = new Hls();\n                hls.loadSource(props.link);\n                hls.attachMedia(video); // @ts-ignore\n\n                ref.current.plyr.media = video;\n                hls.on(Hls.Events.MANIFEST_PARSED, function () {\n                  ref.current.plyr.play();\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function loadVideo() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    loadVideo();\n  });\n  return /*#__PURE__*/_jsxDEV(Plyr, {\n    id: \"plyr\",\n    options: {\n      volume: 0.1,\n      autoplay: false,\n      ads: {\n        enabled: true,\n        publisherId: \"6216589748683079\",\n        tagUrl: \"https://pubads.g.doubleclick.net/gampad/ads?iu=/67551462/ARYZap_PR&description_url=http%3A%2F%2Faryzap.com&tfcd=0&npa=0&sz=300x250%7C320x180%7C352x288%7C640x480%7C854x480%7C1280x720&max_ad_duration=60000&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=\"\n      }\n    },\n    source: {},\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(MyComponentVOD, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\n_c = MyComponentVOD;\nexport default function PlyrLive(props) {\n  // const supported = Hls.isSupported();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(MyComponentVOD, {\n      link: props.link\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 7\n  }, this);\n}\n_c2 = PlyrLive;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MyComponentVOD\");\n$RefreshReg$(_c2, \"PlyrLive\");","map":{"version":3,"sources":["G:/VOD/digital video/components/Plyr.tsx"],"names":["useEffect","useRef","Hls","Plyr","MyComponentVOD","props","ref","loadVideo","video","document","getElementById","hls","loadSource","link","attachMedia","current","plyr","media","on","Events","MANIFEST_PARSED","play","volume","autoplay","ads","enabled","publisherId","tagUrl","PlyrLive"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AAEA,OAAOC,GAAP,MAAgB,QAAhB;AAEA,OAAOC,IAAP,MAAwD,YAAxD;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAAA;;AAEhC,MAAMC,GAAG,GAAGL,MAAM,CAAW,IAAX,CAAlB;AACAD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMO,SAAS;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,gBAAAA,KADU,GACFC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CADE;AAEZC,gBAAAA,GAFY,GAEN,IAAIT,GAAJ,EAFM;AAGhBS,gBAAAA,GAAG,CAACC,UAAJ,CAAeP,KAAK,CAACQ,IAArB;AACAF,gBAAAA,GAAG,CAACG,WAAJ,CAAgBN,KAAhB,EAJgB,CAKhB;;AACAF,gBAAAA,GAAG,CAACS,OAAJ,CAAaC,IAAb,CAAkBC,KAAlB,GAA0BT,KAA1B;AAEAG,gBAAAA,GAAG,CAACO,EAAJ,CAAOhB,GAAG,CAACiB,MAAJ,CAAWC,eAAlB,EAAmC,YAAY;AAC5Cd,kBAAAA,GAAG,CAACS,OAAJ,CAAaC,IAAd,CAAoCK,IAApC;AACD,iBAFD;;AARgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAATd,SAAS;AAAA;AAAA;AAAA,OAAf;;AAYAA,IAAAA,SAAS;AACV,GAdQ,CAAT;AAgBA,sBACE,QAAC,IAAD;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,OAAO,EAAE;AAAEe,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,QAAQ,EAAE,KAAzB;AAAgCC,MAAAA,GAAG,EAAE;AAACC,QAAAA,OAAO,EAAE,IAAV;AAAgBC,QAAAA,WAAW,EAAE,kBAA7B;AAAiDC,QAAAA,MAAM,EAAE;AAAzD;AAArC,KAFX;AAGE,IAAA,MAAM,EAAE,EAHV;AAIE,IAAA,GAAG,EAAErB;AAJP;AAAA;AAAA;AAAA;AAAA,WADF;AAQD,CA3BD;;GAAMF,c;;KAAAA,c;AA6BN,eAAe,SAASwB,QAAT,CAAkBvB,KAAlB,EAAyB;AAEpC;AAEA,sBACE;AAAA,2BACC,QAAC,cAAD;AAAgB,MAAA,IAAI,EAAEA,KAAK,CAACQ;AAA5B;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;MATqBe,Q","sourcesContent":["import { useEffect, useRef } from \"react\";\r\n\r\nimport Hls from \"hls.js\";\r\n\r\nimport Plyr, { APITypes, PlyrProps, PlyrInstance } from \"plyr-react\";\r\n\r\nconst MyComponentVOD = (props) => {\r\n    \r\n  const ref = useRef<APITypes>(null);\r\n  useEffect(() => {\r\n    const loadVideo = async () => {\r\n      const video = document.getElementById(\"plyr\") as HTMLVideoElement;\r\n      var hls = new Hls();\r\n      hls.loadSource(props.link);\r\n      hls.attachMedia(video);\r\n      // @ts-ignore\r\n      ref.current!.plyr.media = video;\r\n\r\n      hls.on(Hls.Events.MANIFEST_PARSED, function () {\r\n        (ref.current!.plyr as PlyrInstance).play();\r\n      });\r\n    };\r\n    loadVideo();\r\n  });\r\n\r\n  return (\r\n    <Plyr\r\n      id=\"plyr\"\r\n      options={{ volume: 0.1, autoplay: false, ads: {enabled: true, publisherId: \"6216589748683079\", tagUrl: \"https://pubads.g.doubleclick.net/gampad/ads?iu=/67551462/ARYZap_PR&description_url=http%3A%2F%2Faryzap.com&tfcd=0&npa=0&sz=300x250%7C320x180%7C352x288%7C640x480%7C854x480%7C1280x720&max_ad_duration=60000&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=\"} }}\r\n      source={{} as PlyrProps[\"source\"]}\r\n      ref={ref}\r\n    />\r\n  )\r\n};\r\n\r\nexport default function PlyrLive(props) {\r\n\r\n    // const supported = Hls.isSupported();\r\n    \r\n    return (\r\n      <div>\r\n       <MyComponentVOD link={props.link}/>\r\n      </div>\r\n    );\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}