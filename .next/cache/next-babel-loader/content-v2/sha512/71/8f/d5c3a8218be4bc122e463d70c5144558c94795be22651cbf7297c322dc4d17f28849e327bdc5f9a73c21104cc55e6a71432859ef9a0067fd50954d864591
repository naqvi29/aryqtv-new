{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"G:\\\\VOD\\\\digital video\\\\pages\\\\latestvideos.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from \"next/router\";\nimport PropTypes from \"prop-types\";\nimport Slider from \"react-slick\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Link from 'next/link';\nimport Head from 'next/head'; // components\n\nconst latestvideos = props => {\n  const {\n    0: playlists,\n    1: setPlaylist\n  } = useState(null);\n  const {\n    0: isloading,\n    1: setisloading\n  } = useState(false);\n  const {\n    0: page,\n    1: setPage\n  } = useState(1);\n  const {\n    0: prevPage,\n    1: setPrevPage\n  } = useState(0);\n  let url = 'https://api.dailymotion.com/user/' + process.env.channel + '/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page=' + page + '&limit=12';\n  useEffect(() => {\n    // const count = 0;\n    if (playlists == null) {\n      // alert(props.id);\n      fetch(url).then(resp => {\n        resp.json().then(result => {\n          setPlaylist(result);\n          setPage(2);\n          setisloading(true);\n          console.log(result);\n        });\n      });\n    }\n  });\n\n  function next() {\n    setPage(page + 1); // alert(page);\n\n    fetch('https://api.dailymotion.com/user/' + process.env.channel + '/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page=' + page + '&limit=12').then(resp => {\n      resp.json().then(results => {\n        console.log(results);\n        setPlaylist(results);\n        setPrevPage(page - 1);\n      });\n    });\n  }\n\n  function prev() {\n    setPrevPage(prevPage - 1); // alert(prevPage);\n\n    fetch('https://api.dailymotion.com/user/' + process.env.channel + '/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page=' + prevPage + '&limit=12').then(resp => {\n      resp.json().then(results => {\n        console.log(results);\n        setPlaylist(results);\n        setPage(prevPage + 1);\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"ARY Digital Popular Videos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      class: \"text-gray-600 body-font bg-black\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container px-5 py-24 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap\",\n          children: playlists ? playlists.list.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full lg:w-3/12 sm:w-1/12 px-2 py-2\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: {\n                pathname: \"/video/\" + item.id\n              } // as={`video/${item.id}/${item.title}`}\n              ,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"Extra\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: \"...\",\n                  src: item.thumbnail_240_url,\n                  className: \"w-full align-middle rounded-t-lg cursor-pointer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-xl font-bold text-white line-clamp2\",\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mt-5 mb-5\",\n          children: [prevPage > 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => prev(),\n            className: \"bg-yellow text-white active:bg-blueGray-600 text-xs font-bold uppercase px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none lg:mr-1 lg:mb-0 ml-3 mb-3 ease-linear transition-all duration-150\",\n            type: \"button\",\n            children: \" Previous \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), playlists && playlists.list.length > 7 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => next(),\n            className: \"bg-yellow text-white active:bg-blueGray-600 text-xs font-bold uppercase px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none lg:mr-1 lg:mb-0 ml-3 mb-3 ease-linear transition-all duration-150\",\n            type: \"button\",\n            children: \" Next \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}; // // This gets called on every request\n// export async function getServerSideProps(context) {\n//   // console.log(context.query);\n//   const { id } = context.query;\n//     // Fetch data from external API\n//   const res = await fetch('https://api.dailymotion.com/user/'+process.env.channel+'/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page='+page+'limit=12')\n//   const data = await res.json()\n//   // Pass data to the page via props\n//   return { props: { data } }\n// }\n\n\nexport default latestvideos;","map":{"version":3,"sources":["G:/VOD/digital video/pages/latestvideos.js"],"names":["React","useState","useEffect","useRouter","PropTypes","Slider","Link","Head","latestvideos","props","playlists","setPlaylist","isloading","setisloading","page","setPage","prevPage","setPrevPage","url","process","env","channel","fetch","then","resp","json","result","console","log","next","results","prev","list","map","item","i","pathname","id","thumbnail_240_url","title","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAO,gCAAP;AACA,OAAO,sCAAP;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB,C,CAGA;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAE9B,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA2BV,QAAQ,CAAC,IAAD,CAAzC;AACA,QAAM;AAAA,OAACW,SAAD;AAAA,OAAYC;AAAZ,MAA4BZ,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM;AAAA,OAACa,IAAD;AAAA,OAAOC;AAAP,MAAkBd,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM;AAAA,OAACe,QAAD;AAAA,OAAWC;AAAX,MAA0BhB,QAAQ,CAAC,CAAD,CAAxC;AAEA,MACEiB,GAAG,GAAG,sCAAsCC,OAAO,CAACC,GAAR,CAAYC,OAAlD,GAA4D,oKAA5D,GAAmOP,IAAnO,GAA0O,WADlP;AAGAZ,EAAAA,SAAS,CAAC,MAAM;AACd;AAEA,QAAIQ,SAAS,IAAI,IAAjB,EAAuB;AACrB;AAEAY,MAAAA,KAAK,CAACJ,GAAD,CAAL,CAAWK,IAAX,CAAiBC,IAAD,IAAU;AAExBA,QAAAA,IAAI,CAACC,IAAL,GAAYF,IAAZ,CAAkBG,MAAD,IAAY;AAC3Bf,UAAAA,WAAW,CAACe,MAAD,CAAX;AACAX,UAAAA,OAAO,CAAC,CAAD,CAAP;AAEAF,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACAc,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAGD,SARD;AAWD,OAbD;AAcD;AAEF,GAtBQ,CAAT;;AAwBA,WAASG,IAAT,GAAgB;AAEdd,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP,CAFc,CAGd;;AACAQ,IAAAA,KAAK,CAAC,sCAAsCH,OAAO,CAACC,GAAR,CAAYC,OAAlD,GAA4D,oKAA5D,GAAmOP,IAAnO,GAA0O,WAA3O,CAAL,CAA6PS,IAA7P,CAAmQC,IAAD,IAAU;AAE1QA,MAAAA,IAAI,CAACC,IAAL,GAAYF,IAAZ,CAAkBO,OAAD,IAAa;AAC5BH,QAAAA,OAAO,CAACC,GAAR,CAAYE,OAAZ;AACAnB,QAAAA,WAAW,CAACmB,OAAD,CAAX;AACAb,QAAAA,WAAW,CAACH,IAAI,GAAG,CAAR,CAAX;AAED,OALD;AAQD,KAVD;AAeD;;AAED,WAASiB,IAAT,GAAgB;AAEdd,IAAAA,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX,CAFc,CAGd;;AAEAM,IAAAA,KAAK,CAAC,sCAAsCH,OAAO,CAACC,GAAR,CAAYC,OAAlD,GAA4D,oKAA5D,GAAmOL,QAAnO,GAA8O,WAA/O,CAAL,CAAiQO,IAAjQ,CAAuQC,IAAD,IAAU;AAE9QA,MAAAA,IAAI,CAACC,IAAL,GAAYF,IAAZ,CAAkBO,OAAD,IAAa;AAC5BH,QAAAA,OAAO,CAACC,GAAR,CAAYE,OAAZ;AACAnB,QAAAA,WAAW,CAACmB,OAAD,CAAX;AACAf,QAAAA,OAAO,CAACC,QAAQ,GAAG,CAAZ,CAAP;AACD,OAJD;AAOD,KATD;AAcD;;AAKD,sBACE;AAAA,4BAEE,QAAC,IAAD;AAAA,6BAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,YAFF,eAOE;AAAS,MAAA,KAAK,EAAC,kCAAf;AAAA,6BACE;AAAK,QAAA,KAAK,EAAC,8BAAX;AAAA,gCAIE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,oBACGN,SAAS,GAAGA,SAAS,CAACsB,IAAV,CAAeC,GAAf,CAAmB,CAACC,IAAD,EAAOC,CAAP,kBAC9B;AAAK,YAAA,SAAS,EAAC,sCAAf;AAAA,mCAGE,QAAC,IAAD;AAAM,cAAA,IAAI,EAAE;AACVC,gBAAAA,QAAQ,EAAE,YAAYF,IAAI,CAACG;AADjB,eAAZ,CAIA;AAJA;AAAA,qCAME;AAAK,gBAAA,SAAS,EAAC,OAAf;AAAA,wCACE;AACE,kBAAA,GAAG,EAAC,KADN;AAEE,kBAAA,GAAG,EAAEH,IAAI,CAACI,iBAFZ;AAGE,kBAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,wBADF,eAOE;AAAI,kBAAA,SAAS,EAAC,0CAAd;AAAA,4BACGJ,IAAI,CAACK;AADR;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA,kBADW,CAAH,GA6BN;AA9BN;AAAA;AAAA;AAAA;AAAA,gBAJF,eAqCE;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,qBACGvB,QAAQ,GAAG,CAAX,gBACC;AAAQ,YAAA,OAAO,EAAE,MAAMe,IAAI,EAA3B;AACE,YAAA,SAAS,EAAC,oNADZ;AAEE,YAAA,IAAI,EAAC,QAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,GAIG,IALN,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,EAOGrB,SAAS,IAAIA,SAAS,CAACsB,IAAV,CAAeQ,MAAf,GAAwB,CAArC,gBAEC;AAAQ,YAAA,OAAO,EAAE,MAAMX,IAAI,EAA3B;AACE,YAAA,SAAS,EAAC,oNADZ;AAEE,YAAA,IAAI,EAAC,QAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,GAOG,IAdN;AAAA;AAAA;AAAA;AAAA;AAAA,gBArCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA,kBADF;AA0ED,CAzJD,C,CA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAGA,eAAerB,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useRouter } from \"next/router\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Slider from \"react-slick\";\r\n\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Link from 'next/link';\r\nimport Head from 'next/head';\r\n\r\n\r\n// components\r\n\r\nconst latestvideos = (props) => {\r\n\r\n  const [playlists, setPlaylist] = useState(null);\r\n  const [isloading, setisloading] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [prevPage, setPrevPage] = useState(0);\r\n\r\n  let\r\n    url = 'https://api.dailymotion.com/user/' + process.env.channel + '/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page=' + page + '&limit=12';\r\n\r\n  useEffect(() => {\r\n    // const count = 0;\r\n\r\n    if (playlists == null) {\r\n      // alert(props.id);\r\n\r\n      fetch(url).then((resp) => {\r\n\r\n        resp.json().then((result) => {\r\n          setPlaylist(result);\r\n          setPage(2);\r\n\r\n          setisloading(true);\r\n          console.log(result)\r\n\r\n\r\n        })\r\n\r\n\r\n      })\r\n    }\r\n\r\n  })\r\n\r\n  function next() {\r\n\r\n    setPage(page + 1);\r\n    // alert(page);\r\n    fetch('https://api.dailymotion.com/user/' + process.env.channel + '/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page=' + page + '&limit=12').then((resp) => {\r\n\r\n      resp.json().then((results) => {\r\n        console.log(results)\r\n        setPlaylist(results);\r\n        setPrevPage(page - 1);\r\n\r\n      })\r\n\r\n\r\n    })\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  function prev() {\r\n\r\n    setPrevPage(prevPage - 1);\r\n    // alert(prevPage);\r\n\r\n    fetch('https://api.dailymotion.com/user/' + process.env.channel + '/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page=' + prevPage + '&limit=12').then((resp) => {\r\n\r\n      resp.json().then((results) => {\r\n        console.log(results)\r\n        setPlaylist(results);\r\n        setPage(prevPage + 1);\r\n      })\r\n\r\n\r\n    })\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      <Head>\r\n\r\n        <title>ARY Digital Popular Videos</title>\r\n\r\n      </Head>\r\n      <section class=\"text-gray-600 body-font bg-black\">\r\n        <div class=\"container px-5 py-24 mx-auto\">\r\n          {/* <h3 className=\"text-xl font-bold text-white truncate\">\r\n                {playlists.list.title}\r\n            </h3> */}\r\n          <div className=\"flex flex-wrap\">\r\n            {playlists ? playlists.list.map((item, i) =>\r\n              <div className=\"w-full lg:w-3/12 sm:w-1/12 px-2 py-2\">\r\n\r\n\r\n                <Link href={{\r\n                  pathname: \"/video/\" + item.id,\r\n\r\n                }}\r\n                // as={`video/${item.id}/${item.title}`}\r\n                >\r\n                  <div className=\"Extra\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={item.thumbnail_240_url}\r\n                      className=\"w-full align-middle rounded-t-lg cursor-pointer\"\r\n                    />\r\n\r\n                    <h4 className=\"text-xl font-bold text-white line-clamp2\">\r\n                      {item.title}\r\n                    </h4>\r\n                    {/* <p className=\"text-md font-light mt-2 text-white\">\r\n                    Putting together a page has never been easier than matching\r\n                    \r\n                  </p> */}\r\n\r\n                  </div>\r\n                </Link>\r\n\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n\r\n          <div className=\"text-center mt-5 mb-5\">\r\n            {prevPage > 0 ?\r\n              <button onClick={() => prev()}\r\n                className=\"bg-yellow text-white active:bg-blueGray-600 text-xs font-bold uppercase px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none lg:mr-1 lg:mb-0 ml-3 mb-3 ease-linear transition-all duration-150\"\r\n                type=\"button\"> Previous </button>\r\n              : null}\r\n            <span>  </span>\r\n            {playlists && playlists.list.length > 7 ?\r\n\r\n              <button onClick={() => next()}\r\n                className=\"bg-yellow text-white active:bg-blueGray-600 text-xs font-bold uppercase px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none lg:mr-1 lg:mb-0 ml-3 mb-3 ease-linear transition-all duration-150\"\r\n                type=\"button\"> Next </button>\r\n\r\n\r\n              : null}\r\n          </div>\r\n\r\n        </div>\r\n      </section>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n// // This gets called on every request\r\n// export async function getServerSideProps(context) {\r\n//   // console.log(context.query);\r\n//   const { id } = context.query;\r\n//     // Fetch data from external API\r\n//   const res = await fetch('https://api.dailymotion.com/user/'+process.env.channel+'/videos?fields=owner%2Cthumbnail_180_url%2Cid%2Cthumbnail_240_url%2Cthumbnail_360_url%2Ctitle%2Cid%2Cviews_total%2Cduration%2Cowner.screenname%2Cdescription&page='+page+'limit=12')\r\n//   const data = await res.json()\r\n\r\n//   // Pass data to the page via props\r\n//   return { props: { data } }\r\n// }\r\n\r\n\r\nexport default latestvideos;"]},"metadata":{},"sourceType":"module"}